(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],r=!0,s=1;s<o.length;s++){var c=o[s];0!==a[c]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=o[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=r,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("cd49")},"0d6f":function(e,t,o){"use strict";o("f7d2")},"230b":function(e,t,o){},"5b80":function(e,t,o){"use strict";o("b455")},8849:function(e,t,o){"use strict";o("ff6d")},"8a2f":function(e,t,o){"use strict";o("b10a")},b10a:function(e,t,o){},b455:function(e,t,o){},cd49:function(e,t,o){"use strict";o.r(t);var r=o("2b0e"),a=o("89e8"),n=o("01c8"),i=o("870d"),s=o("0f45"),c=o("d5bc"),l=o("f5df"),u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("c-box",{attrs:{id:"app"}},[e.showMoveBanner?t("c-box",{staticClass:"banner",attrs:{padding:"1em",bg:"yellow.300"}},[e._v(" âš  "),t("c-link",{attrs:{fontWeight:"bold",color:"blue.600",href:e.prodUrl}},[e._v(" Hey we are moving! Heroku is dropping their free tier, so we are going somewhere else. So we got a proper domain Click here to go there (and make sure to bookmark it as this URL will be gone soon) ")]),t("br"),t("c-link",{attrs:{target:"_blank",fontWeight:"bold",color:"blue.600",href:"https://ko-fi.com/pedsm"}},[e._v(" And if you're still reading... You can support the new domain here ")])],1):e._e(),t("router-view"),t("c-box",{attrs:{textAlign:"right",backgroundColor:e.$mode("blue.100","gray.900"),padding:"0.5em"}},[t("c-link",{attrs:{href:"https://ko-fi.com/pedsm/","margin-right":"0.5em","is-external":""}},[t("i",{staticClass:"fa fa-glass",attrs:{"aria-hidden":"true"}})]),t("c-link",{attrs:{href:"https://github.com/pedsm/planning-poker","is-external":""}},[t("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})])],1)],1)},d=[],m=o("f8b9"),f=r["a"].extend({name:"App",inject:["$chakraColorMode","$toggleColorMode"],data:()=>({showBanner:null!=Object({VUE_APP_API_URL:"/",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PROD_URL,prodUrl:Object({VUE_APP_API_URL:"/",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PROD_URL,showMoveBanner:"true"==Object({VUE_APP_API_URL:"/",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_IS_HEROKU}),components:{CBox:c["a"],CLink:m["a"]},methods:{toggleMode:()=>(void 0).$toggleColorMode},computed:{colorMode(){return this.$chakraColorMode()}}}),p=f,b=(o("8a2f"),o("2877")),h=Object(b["a"])(p,u,d,!1,null,null,null),_=h.exports,g=o("8c4f"),v=o("2f62"),k=o("8e27"),C=o.n(k),x=o("5132"),w=o.n(x);const y={API_URL:"/",env:"production"};var O=y;r["a"].use(v["a"]);const P=new v["a"].Store({state:{room:null},mutations:{socket_pool(e,t){e.room=t}},getters:{deck(e){if(e.room){const{availableDecks:t,selectedDeck:o}=e.room;return t[o].cards}return[]},room(e){return e.room},members(e){var t;return null!==(t=e.room)&&void 0!==t&&t.members?e.room.members:[]},availableDecks(e){var t;return null!==(t=e.room)&&void 0!==t&&t.availableDecks?e.room.availableDecks:[]}}}),$=C.a.io(O.API_URL,{withCredentials:!1});r["a"].use(new w.a({debug:!0,connection:$,vuex:{store:P,actionPrefix:"socket_",mutationPrefix:"socket_"}}));var j=P,D=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("c-box",{attrs:{id:"form",bg:e.$mode("white.500","gray.900"),color:e.$mode("gray.900","white.500"),animationDuration:"1s",shadow:"md",rounded:"lg",p:"5"}},[t("c-text",{attrs:{color:e.$mode("white.500","gray.100"),fontSize:"3xl",fontWeight:"bold"}},[e._v("Planning Poker")]),t("form",{on:{submit:e.joinRoom}},[t("c-form-control",{attrs:{"is-required":"",marginY:"1em"}},[t("c-form-label",{attrs:{for:"roomName"}},[e._v("Room name")]),t("c-input",{attrs:{id:"roomName",placeholder:"Just make one up",type:"text"},model:{value:e.roomNumber,callback:function(t){e.roomNumber=t},expression:"roomNumber"}})],1),t("c-button",{attrs:{isDisabled:""==e.roomNumber,width:"100%","variant-color":"blue"},on:{click:e.joinRoom}},[e._v("Enter room")])],1)],1)},R=[],S=o("f901"),U=o("ffca"),A=o("b715"),B=o("12f4"),N=o("d51e"),T=r["a"].extend({name:"Index",components:{CText:S["a"],CInput:U["a"],CBox:c["a"],CButton:A["a"],CFormControl:B["a"],CFormLabel:N["a"]},data:()=>({roomNumber:""}),methods:{joinRoom:function(){const{roomNumber:e}=this;if(e)return console.log("Joining room",this.roomNumber),this.$router.push({name:"room",params:{room:e}});console.log("Room was not provided")}}}),E=T,L=(o("f91d"),Object(b["a"])(E,D,R,!1,null,"6f832cf4",null)),I=L.exports,M=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"room"}},[t("header",{staticClass:"row spread"},[t("c-text",{attrs:{fontSize:"3xl",fontWeight:"bold"}},[e._v(" "+e._s(e.$route.params.room)+" ")]),t("c-box",{attrs:{w:"300px",d:"flex","justify-content":"right"}},[t("c-input",{staticClass:"animate__animated animate__heartBeat animate__repeat-2",attrs:{type:"text",placeholder:"Enter your name...",width:"200px",mr:"1em"},on:{change:e.changeName,blur:e.changeName}}),t("room-settings")],1)],1),t("div",{staticClass:"table"},[t("div",{staticClass:"row"},e._l(e.membersOnTable,(function(e){return t("TableCard",{key:e.id,attrs:{member:e}})})),1),t("div",[t("ul",{staticClass:"rightFloat"},[e.watchers.length>0?t("li",[t("c-text",[t("i",{staticClass:"fa fa-eye"}),e._v(e._s(" ")+e._s(e.watchers.length)+" Watching ")])],1):e._e(),e._l(e.$store.getters.members.filter(e=>""!=e.name),(function(o){return t("li",{key:o.id},[t("c-text",{class:o.id!==e.me.id||"b"},[t("i",{staticClass:"fa fa-user"}),o.name?[e._v(e._s(" ")+e._s(o.name))]:[e._v(" No name")]],2)],1)}))],2)])]),e.onTable?t("Hand"):e._e()],1)},V=[],H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"handContainer"},[t("div",{staticClass:"handBts"},[t("c-button",{on:{click:e.pickUp}},[e._v("Pick up card")]),t("c-button",{on:{click:e.flipCard}},[1==e.me.hidden?[e._v(" Show ")]:[e._v(" Hide ")],e._v(" card ")],2),t("c-button",{on:{click:e.flipAll}},[e._v("Flip all cards")]),t("c-button",{on:{click:e.clearTable}},[e._v("Clear table")])],1),t("div",{staticClass:"hand"},e._l(e.$store.getters.deck,(function(o,r){return t("Card",{key:r,attrs:{value:o,active:r!=e.me.card},nativeOn:{click:function(t){return e.pickCard(r)}}})})),1)])},F=[],W=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("c-box",{class:e.active?"card":"card active",attrs:{backgroundColor:e.active?"white":"blue.100",animationDuration:"1s",w:"90px",shadow:"md",rounded:"lg",p:"5"}},[t("c-light-mode",[t("c-text",{attrs:{color:"",paddingY:"30px",fontSize:"xl",fontWeight:"bold",align:"center"}},[e._v(" "+e._s(e.value)+" ")])],1)],1)},z=[],J=r["a"].extend({name:"Card",components:{CBox:c["a"],CText:S["a"],CLightMode:s["a"]},props:["value","active"]}),Y=J,q=(o("5b80"),Object(b["a"])(Y,W,z,!1,null,null,null)),K=q.exports,X={name:"Hand",components:{Card:K,CButton:A["a"]},computed:{me(){return this.$store.getters.members.find(e=>e.id==this.$socket.id)}},methods:{pickCard(e){this.$socket.emit("pickCard",e)},pickUp(){this.$socket.emit("pickCard",null)},flipCard(){this.$socket.emit("flipCard")},flipAll(){this.$socket.emit("flipAll")},clearTable(){this.$socket.emit("clearTable")}}},G=X,Q=(o("e25a"),Object(b["a"])(G,H,F,!1,null,"35a84c6c",null)),Z=Q.exports,ee=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("c-icon-button",{attrs:{"aria-label":"Open settings",icon:"chevron-left"},on:{click:function(t){e.isOpen=!0}}}),t("c-drawer",{attrs:{isOpen:e.isOpen,placement:"right","on-close":e.close,initialFocusRef:()=>e.$refs.inputInsideModal}},[t("c-drawer-overlay"),t("c-drawer-content",[t("c-drawer-close-button"),t("c-drawer-header",[e._v("Room settings")]),t("c-drawer-body",[t("c-select",{attrs:{spacing:3,value:e.selectedDeck.toString()},on:{change:e.changeDeck}},e._l(e.availableDecks,(function(o,r){return t("option",{key:r,domProps:{value:r}},[e._v(" "+e._s(`${o.name} (${o.cards})`)+" ")])})),0)],1),t("c-drawer-footer",[t("c-button",{attrs:{"variant-color":"blue",mr:"3"},on:{click:function(t){e.isOpen=!1}}},[e._v("Close")])],1)],1)],1)],1)},te=[],oe=o("a7c1"),re=o("c7a0"),ae=o("f8c5"),ne=r["a"].extend({name:"roomSettings",components:{CButton:A["a"],CDrawer:oe["a"],CIconButton:re["a"],CDrawerBody:oe["b"],CDrawerFooter:oe["e"],CDrawerHeader:oe["f"],CDrawerOverlay:oe["g"],CDrawerContent:oe["d"],CSelect:ae["a"],CDrawerCloseButton:oe["c"]},data(){return{isOpen:!1}},methods:{close(){this.isOpen=!1},changeDeck(e){this.$socket.emit("changeDeck",e)}},computed:{availableDecks(){return this.$store.getters.availableDecks},selectedDeck(){var e,t;return null!==(e=null===(t=this.$store.getters.room)||void 0===t?void 0:t.selectedDeck)&&void 0!==e?e:0}}}),ie=ne,se=Object(b["a"])(ie,ee,te,!1,null,null,null),ce=se.exports,le=function(){var e=this,t=e._self._c;return t("c-light-mode",[t("div",{key:e.member.id},[t("c-box",{staticClass:"animate__animated animate__flipInX",class:e.member.hidden||"animate__tada",attrs:{backgroundColor:"white",animationDuration:"1s",w:"90px",shadow:"md",rounded:"lg",p:"5"}},[t("c-text",{attrs:{paddingY:"30px",fontSize:"xl",fontWeight:"bold",align:"center"}},[e.member.hidden?t("c-text",{staticStyle:{color:"white"}},[e._v(" _ ")]):t("c-text",{staticStyle:{color:"black"}},[e._v(" "+e._s(e.$store.getters.deck[e.member.card])+" ")])],1)],1),t("c-text",{attrs:{marginTop:"1em"}},[t("i",{staticClass:"fa fa-user"}),t("span",{class:e.member.id!==e.me.id||"b"},[e._v(" "+e._s(e.member.name)+" ")])])],1)])},ue=[],de={name:"TableCard",components:{CBox:c["a"],CText:S["a"],CLightMode:s["a"]},props:["member"],computed:{me(){return this.$store.getters.members.find(e=>e.id==this.$socket.id)}}},me=de,fe=(o("0d6f"),Object(b["a"])(me,le,ue,!1,null,"21ad08fe",null)),pe=fe.exports,be=r["a"].extend({name:"room",components:{Hand:Z,TableCard:pe,CInput:U["a"],CText:S["a"],RoomSettings:ce,CBox:c["a"]},created(){console.log(O.API_URL);const{room:e}=this.$route.params;this.$socket.emit("join",e)},computed:{socket(){return this.$socket},me(){return this.$store.getters.members.find(e=>e.id==this.$socket.id)},watchers(){return this.$store.getters.members.filter(e=>""==e.name)},membersOnTable(){return this.$store.getters.members.filter(e=>null!=e.card)},onTable(){return null!=this.me&&""!=this.me.name}},methods:{changeName(e){const t=e.target.value;this.$socket.emit("changeName",t)}}}),he=be,_e=(o("8849"),Object(b["a"])(he,M,V,!1,null,"d0e4f978",null)),ge=_e.exports;r["a"].use(g["a"]),r["a"].use(a["a"],{extendTheme:{colors:{white:()=>({color:Object(n["c"])("white","black")}),black:()=>({color:Object(n["c"])("black","white")})},baseStyles:{CBox:()=>({bg:Object(n["c"])("white","gray.900")}),CText:()=>({color:Object(n["c"])("gray.900","white")}),CFormLabel:()=>({color:Object(n["c"])("gray.900","white")}),CInput:()=>({color:Object(n["c"])("gray.900","white")}),CIconButton:()=>({color:Object(n["c"])("gray.900","white")}),CLink:()=>({color:Object(n["c"])("gray.900","white")})}}});const ve=[{name:"index",path:"/",component:I},{name:"room",path:"/r/:room",component:ge}],ke=new g["a"]({mode:"history",routes:ve});new r["a"]({router:ke,store:j,render:e=>e(i["a"],[e(s["b"],[e(c["a"],[e(l["a"]),e(_)])])])}).$mount("#app")},e062:function(e,t,o){},e25a:function(e,t,o){"use strict";o("e062")},f7d2:function(e,t,o){},f91d:function(e,t,o){"use strict";o("230b")},ff6d:function(e,t,o){}});
//# sourceMappingURL=app.32b2c8ee.js.map